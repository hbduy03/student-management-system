{% extends 'Home/base.html' %}
{% load static %}
{% block body %}

<div class="page-wrapper">
<div class="content container-fluid">

<div class="page-header">
<div class="row align-items-center">
<div class="col">
<h3 class="page-title">ClassSection: {{ section.name }} - {{section.subject.name}}</h3>
<ul class="breadcrumb">
<li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Dashboard</a></li>
<li class="breadcrumb-item"><a href="{% url 'section_list' %}">ClassSections</a></li>
<li class="breadcrumb-item active">{{ section.name }}</li>
</ul>
</div>
    <div class="col-auto text-right float-right ml-auto">
        <a href="{% url 'view_predict' section.id %}" class="btn btn-success">
  <i class="fas fa-view"></i> Xem dự đoán
</a>
        <a href="{% url 'enter_scores' section.id %}" class="btn btn-success">
  <i class="fas fa-edit"></i> Nhập điểm
</a>
<a href="#" class="btn btn-outline-primary mr-2"><i class="fas fa-download"></i> Download</a>
<a href="{% url 'add_student_section' section.id %}" class="btn btn-primary"><i class="fas fa-plus"></i></a>
</div>
</div>
</div>

<div class="row">
<div class="col-sm-12">
<div class="card card-table">
<div class="card-body">
<div class="table-responsive">
<table class="table table-hover table-center mb-0">
<thead>
<tr>
<th>Student</th>
<th>Midterm Test</th>
<th>Final Test</th>
    <th>Overall</th>
    <th>Passed</th>
        <th>Note</th>
</tr>
</thead>
<tbody>
{% for subject in subjects %}
<tr>
<td>{{ subject.student.user.username }} {{ subject.student.user.first_name }} {{ subject.student.user.last_name }}</td>
<td>{{ subject.midterm|default:"" }}</td>
<td>{{ subject.final|default:"" }}</td>
    <td>{{ subject.overall|default:""  }} ({{subject.rank}})</td>
     <td>
            {% if subject.passed is not None %}
                {% if subject.passed %}
                    <span class="badge badge-success">PASS</span>
                {% else %}
                    <span class="badge badge-danger">FAIL</span>
                {% endif %}
            {% endif %}
        </td>
    <td>{{ subject.note }}</td>
</tr>
{% empty %}
<tr><td colspan="3" class="text-center">No students in this section</td></tr>
{% endfor %}
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>

</div>

{% endblock %}
